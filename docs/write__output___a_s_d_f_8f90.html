<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SPECFEM3D GLOBE: /Users/ziyixi/research/specfem/specfem3d_globe/src/specfem3D/write_output_ASDF.f90 File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SPECFEM3D GLOBE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_0ea15c57f2ef8caef6c37a7bcd5ab9ab.html">specfem</a></li><li class="navelem"><a class="el" href="dir_79c877a6638ca90e4d729ec65e7d0484.html">specfem3d_globe</a></li><li class="navelem"><a class="el" href="dir_e204a2fb6bc07a52043ae17d80bf9f56.html">src</a></li><li class="navelem"><a class="el" href="dir_2c5cad43a068028911601c6bc5dddf43.html">specfem3D</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle">
<div class="title">write_output_ASDF.f90 File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="write__output___a_s_d_f_8f90_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a9746c01110efb799ad3da9a5e4153b65"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a9746c01110efb799ad3da9a5e4153b65">init_asdf_data</a> (nrec_local)</td></tr>
<tr class="memdesc:a9746c01110efb799ad3da9a5e4153b65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the data structure for ASDF.  <a href="#a9746c01110efb799ad3da9a5e4153b65">More...</a><br /></td></tr>
<tr class="separator:a9746c01110efb799ad3da9a5e4153b65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cc6c3ed4635aa62777be758b7441efb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a1cc6c3ed4635aa62777be758b7441efb">store_asdf_data</a> (seismogram_tmp, irec_local, irec, chn, iorientation)</td></tr>
<tr class="memdesc:a1cc6c3ed4635aa62777be758b7441efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores the records into the ASDF structure.  <a href="#a1cc6c3ed4635aa62777be758b7441efb">More...</a><br /></td></tr>
<tr class="separator:a1cc6c3ed4635aa62777be758b7441efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb7ed46827e07dbf4dbf7600d6cb88f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a2bb7ed46827e07dbf4dbf7600d6cb88f">close_asdf_data</a> ()</td></tr>
<tr class="memdesc:a2bb7ed46827e07dbf4dbf7600d6cb88f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes the ASDF data structure by deallocating all arrays.  <a href="#a2bb7ed46827e07dbf4dbf7600d6cb88f">More...</a><br /></td></tr>
<tr class="separator:a2bb7ed46827e07dbf4dbf7600d6cb88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b90cdfaa7f3c3d14095e27aa65f4bb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb">write_asdf</a> ()</td></tr>
<tr class="memdesc:a31b90cdfaa7f3c3d14095e27aa65f4bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes the ASDF data structure to the file.  <a href="#a31b90cdfaa7f3c3d14095e27aa65f4bb">More...</a><br /></td></tr>
<tr class="separator:a31b90cdfaa7f3c3d14095e27aa65f4bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe175d1a0ac733e1707890f843fbe8d4"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#afe175d1a0ac733e1707890f843fbe8d4">cmt_to_quakeml</a> (quakemlstring, pde_start_time_string, cmt_start_time_string)</td></tr>
<tr class="memdesc:afe175d1a0ac733e1707890f843fbe8d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the CMT source file read by SPECFEM to a QuakeML file for the ASDF container.  <a href="#afe175d1a0ac733e1707890f843fbe8d4">More...</a><br /></td></tr>
<tr class="separator:afe175d1a0ac733e1707890f843fbe8d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94a5afe64f662df5fc1c2f29c940315f"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a94a5afe64f662df5fc1c2f29c940315f">convert_systime_to_string</a> (time, time_string)</td></tr>
<tr class="separator:a94a5afe64f662df5fc1c2f29c940315f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad163088e89300fee06d928269ab128fb"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#ad163088e89300fee06d928269ab128fb">get_time</a> (starttime, start_time_string, pde_start_time_string, cmt_start_time_string, end_time_string)</td></tr>
<tr class="memdesc:ad163088e89300fee06d928269ab128fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Uses the time in the CMTSOLUTION file to calculate the number of seconds since the epoch.  <a href="#ad163088e89300fee06d928269ab128fb">More...</a><br /></td></tr>
<tr class="separator:ad163088e89300fee06d928269ab128fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cc0cce28e733d43be4ef7f623d682c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a64cc0cce28e733d43be4ef7f623d682c">station_to_stationxml</a> (station_name, network_name, latitude, longitude, elevation, burial_depth, start_time_string, stationxmlstring)</td></tr>
<tr class="memdesc:a64cc0cce28e733d43be4ef7f623d682c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts the Station information to a StationXML string.  <a href="#a64cc0cce28e733d43be4ef7f623d682c">More...</a><br /></td></tr>
<tr class="separator:a64cc0cce28e733d43be4ef7f623d682c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3db9b379d0f497a2635f1993285bbf8c"><td class="memItemLeft" align="right" valign="top">subroutine&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="write__output___a_s_d_f_8f90.html#a3db9b379d0f497a2635f1993285bbf8c">read_file</a> (filename, filestring, filesize)</td></tr>
<tr class="memdesc:a3db9b379d0f497a2635f1993285bbf8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads an external file and stores it in filestring.  <a href="#a3db9b379d0f497a2635f1993285bbf8c">More...</a><br /></td></tr>
<tr class="separator:a3db9b379d0f497a2635f1993285bbf8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a2bb7ed46827e07dbf4dbf7600d6cb88f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb7ed46827e07dbf4dbf7600d6cb88f">&#9670;&nbsp;</a></span>close_asdf_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine close_asdf_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes the ASDF data structure by deallocating all arrays. </p>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00137">137</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a2bb7ed46827e07dbf4dbf7600d6cb88f_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a2bb7ed46827e07dbf4dbf7600d6cb88f_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a2bb7ed46827e07dbf4dbf7600d6cb88f_icgraph" id="write__output___a_s_d_f_8f90_a2bb7ed46827e07dbf4dbf7600d6cb88f_icgraph">
<area shape="rect" id="node2" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="172,31,351,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="399,31,535,56"/>
<area shape="rect" id="node4" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="609,5,700,31"/>
<area shape="rect" id="node6" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="583,55,726,80"/>
<area shape="rect" id="node5" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="774,31,867,56"/>
</map>
</div>

</div>
</div>
<a id="afe175d1a0ac733e1707890f843fbe8d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe175d1a0ac733e1707890f843fbe8d4">&#9670;&nbsp;</a></span>cmt_to_quakeml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine cmt_to_quakeml </td>
          <td>(</td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>quakemlstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>pde_start_time_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>cmt_start_time_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the CMT source file read by SPECFEM to a QuakeML file for the ASDF container. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">quakemlstring</td><td>The QuakeML string to store in the ASDF file  The start date stored as a character string </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00654">654</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_afe175d1a0ac733e1707890f843fbe8d4_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_afe175d1a0ac733e1707890f843fbe8d4_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_afe175d1a0ac733e1707890f843fbe8d4_icgraph" id="write__output___a_s_d_f_8f90_afe175d1a0ac733e1707890f843fbe8d4_icgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb" title="Writes the ASDF data structure to the file. " alt="" coords="172,31,255,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="303,31,482,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="530,31,666,56"/>
<area shape="rect" id="node5" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="740,5,831,31"/>
<area shape="rect" id="node7" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="714,55,857,80"/>
<area shape="rect" id="node6" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="905,31,998,56"/>
</map>
</div>

</div>
</div>
<a id="a94a5afe64f662df5fc1c2f29c940315f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94a5afe64f662df5fc1c2f29c940315f">&#9670;&nbsp;</a></span>convert_systime_to_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine convert_systime_to_string </td>
          <td>(</td>
          <td class="paramtype">double precision, intent(in)&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*), intent(out)&#160;</td>
          <td class="paramname"><em>time_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00807">807</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a94a5afe64f662df5fc1c2f29c940315f_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a94a5afe64f662df5fc1c2f29c940315f_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a94a5afe64f662df5fc1c2f29c940315f_icgraph" id="write__output___a_s_d_f_8f90_a94a5afe64f662df5fc1c2f29c940315f_icgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#ad163088e89300fee06d928269ab128fb" title="Uses the time in the CMTSOLUTION file to calculate the number of seconds since the epoch..." alt="" coords="190,31,262,56"/>
<area shape="rect" id="node3" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb" title="Writes the ASDF data structure to the file. " alt="" coords="310,31,392,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="440,31,619,56"/>
<area shape="rect" id="node5" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="667,31,803,56"/>
<area shape="rect" id="node6" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="877,5,968,31"/>
<area shape="rect" id="node8" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="851,55,994,80"/>
<area shape="rect" id="node7" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="1042,31,1136,56"/>
</map>
</div>

</div>
</div>
<a id="ad163088e89300fee06d928269ab128fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad163088e89300fee06d928269ab128fb">&#9670;&nbsp;</a></span>get_time()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine get_time </td>
          <td>(</td>
          <td class="paramtype">double precision, intent(inout)&#160;</td>
          <td class="paramname"><em>starttime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>start_time_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>pde_start_time_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>cmt_start_time_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>end_time_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Uses the time in the CMTSOLUTION file to calculate the number of seconds since the epoch. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">starttime</td><td>The start time of the simulation from the epoch </td></tr>
    <tr><td class="paramname">start_time_string</td><td>A string for defining the waveform name start time </td></tr>
    <tr><td class="paramname">pde_start_time_string</td><td>A string for defining the waveform name start time using PDE </td></tr>
    <tr><td class="paramname">cmt_start_time_string</td><td>A string for defining the waveform name start time using CMT </td></tr>
    <tr><td class="paramname">end_time_string</td><td>A string for defining the waveform name end time </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00847">847</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_cgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_cgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_cgraph" id="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_cgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#a94a5afe64f662df5fc1c2f29c940315f" title="convert_systime_to\l_string" alt="" coords="126,5,262,44"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_icgraph" id="write__output___a_s_d_f_8f90_ad163088e89300fee06d928269ab128fb_icgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb" title="Writes the ASDF data structure to the file. " alt="" coords="126,31,208,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="256,31,435,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="483,31,619,56"/>
<area shape="rect" id="node5" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="693,5,784,31"/>
<area shape="rect" id="node7" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="667,55,810,80"/>
<area shape="rect" id="node6" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="858,31,951,56"/>
</map>
</div>

</div>
</div>
<a id="a9746c01110efb799ad3da9a5e4153b65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9746c01110efb799ad3da9a5e4153b65">&#9670;&nbsp;</a></span>init_asdf_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine init_asdf_data </td>
          <td>(</td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>nrec_local</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the data structure for ASDF. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nrec_local</td><td>The number of receivers on the local processor </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00031">31</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_cgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_cgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_cgraph" id="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_cgraph">
<area shape="rect" id="node2" href="exit__mpi_8f90.html#af44e23ceddc0360242374f924e51f5b9" title="exit_mpi" alt="" coords="158,5,229,31"/>
<area shape="rect" id="node3" href="parallel_8f90.html#a2cb16ba0f972c8309ad9d4925c7031f2" title="abort_mpi" alt="" coords="277,5,357,31"/>
<area shape="rect" id="node4" href="parallel_8f90.html#aff9d23d13aea2e9205a948e361440ffa" title="world_rank" alt="" coords="405,5,492,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_icgraph" id="write__output___a_s_d_f_8f90_a9746c01110efb799ad3da9a5e4153b65_icgraph">
<area shape="rect" id="node2" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="158,31,337,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="385,31,521,56"/>
<area shape="rect" id="node4" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="595,5,686,31"/>
<area shape="rect" id="node6" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="569,55,712,80"/>
<area shape="rect" id="node5" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="760,31,853,56"/>
</map>
</div>

</div>
</div>
<a id="a3db9b379d0f497a2635f1993285bbf8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3db9b379d0f497a2635f1993285bbf8c">&#9670;&nbsp;</a></span>read_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine read_file </td>
          <td>(</td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>filestring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>filesize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads an external file and stores it in filestring. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td>The name of the file to read </td></tr>
    <tr><td class="paramname">filestring</td><td>The string that the file is stored </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00987">987</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a3db9b379d0f497a2635f1993285bbf8c_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a3db9b379d0f497a2635f1993285bbf8c_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a3db9b379d0f497a2635f1993285bbf8c_icgraph" id="write__output___a_s_d_f_8f90_a3db9b379d0f497a2635f1993285bbf8c_icgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb" title="Writes the ASDF data structure to the file. " alt="" coords="126,31,208,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="256,31,435,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="483,31,619,56"/>
<area shape="rect" id="node5" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="693,5,784,31"/>
<area shape="rect" id="node7" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="667,55,810,80"/>
<area shape="rect" id="node6" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="858,31,951,56"/>
</map>
</div>

</div>
</div>
<a id="a64cc0cce28e733d43be4ef7f623d682c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64cc0cce28e733d43be4ef7f623d682c">&#9670;&nbsp;</a></span>station_to_stationxml()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine station_to_stationxml </td>
          <td>(</td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>station_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>network_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>latitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>longitude</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">real, intent(in)&#160;</td>
          <td class="paramname"><em>burial_depth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>start_time_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=*)&#160;</td>
          <td class="paramname"><em>stationxmlstring</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts the Station information to a StationXML string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">station_name</td><td>The name of the station based on SEED </td></tr>
    <tr><td class="paramname">network_name</td><td>The name of the network based on SEED </td></tr>
    <tr><td class="paramname">stationxmlstring</td><td>The StationXML string that will be written to the ASDF file </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00903">903</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a64cc0cce28e733d43be4ef7f623d682c_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a64cc0cce28e733d43be4ef7f623d682c_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a64cc0cce28e733d43be4ef7f623d682c_icgraph" id="write__output___a_s_d_f_8f90_a64cc0cce28e733d43be4ef7f623d682c_icgraph">
<area shape="rect" id="node2" href="write__output___a_s_d_f_8f90.html#a31b90cdfaa7f3c3d14095e27aa65f4bb" title="Writes the ASDF data structure to the file. " alt="" coords="200,31,282,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="330,31,509,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="557,31,693,56"/>
<area shape="rect" id="node5" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="767,5,858,31"/>
<area shape="rect" id="node7" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="741,55,884,80"/>
<area shape="rect" id="node6" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="932,31,1025,56"/>
</map>
</div>

</div>
</div>
<a id="a1cc6c3ed4635aa62777be758b7441efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cc6c3ed4635aa62777be758b7441efb">&#9670;&nbsp;</a></span>store_asdf_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine store_asdf_data </td>
          <td>(</td>
          <td class="paramtype">real(kind=custom_real), dimension(5,ntstep_between_output_seismos), intent(in)&#160;</td>
          <td class="paramname"><em>seismogram_tmp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>irec_local</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>irec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">character(len=4), intent(in)&#160;</td>
          <td class="paramname"><em>chn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in)&#160;</td>
          <td class="paramname"><em>iorientation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores the records into the ASDF structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">seismogram_tmp</td><td>The current seismogram to store </td></tr>
    <tr><td class="paramname">irec_local</td><td>The local index of the receiver </td></tr>
    <tr><td class="paramname">irec</td><td>The global index of the receiver </td></tr>
    <tr><td class="paramname">chn</td><td>The broadband channel simulated </td></tr>
    <tr><td class="paramname">iorientation</td><td>The recorded seismogram's orientation direction </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00077">77</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_cgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_cgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_cgraph" id="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_cgraph">
<area shape="rect" id="node2" href="exit__mpi_8f90.html#af44e23ceddc0360242374f924e51f5b9" title="exit_mpi" alt="" coords="170,5,241,31"/>
<area shape="rect" id="node3" href="parallel_8f90.html#a2cb16ba0f972c8309ad9d4925c7031f2" title="abort_mpi" alt="" coords="289,5,370,31"/>
<area shape="rect" id="node4" href="parallel_8f90.html#aff9d23d13aea2e9205a948e361440ffa" title="world_rank" alt="" coords="418,5,504,31"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_icgraph" id="write__output___a_s_d_f_8f90_a1cc6c3ed4635aa62777be758b7441efb_icgraph">
<area shape="rect" id="node2" href="write__seismograms_8f90.html#a600a5e64e46efefcdc62d9ce0415739c" title="write_one_seismogram" alt="" coords="170,31,329,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="377,31,557,56"/>
<area shape="rect" id="node4" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="605,31,741,56"/>
<area shape="rect" id="node5" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="815,5,906,31"/>
<area shape="rect" id="node7" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="789,55,932,80"/>
<area shape="rect" id="node6" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="980,31,1073,56"/>
</map>
</div>

</div>
</div>
<a id="a31b90cdfaa7f3c3d14095e27aa65f4bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b90cdfaa7f3c3d14095e27aa65f4bb">&#9670;&nbsp;</a></span>write_asdf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine write_asdf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the ASDF data structure to the file. </p>

<p class="definition">Definition at line <a class="el" href="write__output___a_s_d_f_8f90_source.html#l00160">160</a> of file <a class="el" href="write__output___a_s_d_f_8f90_source.html">write_output_ASDF.f90</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_cgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_cgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_cgraph" id="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_cgraph">
<area shape="rect" id="node2" href="parallel_8f90.html#af9aafd1831ffab5bb90f71c0d82df5a7" title="world_duplicate" alt="" coords="152,5,266,31"/>
<area shape="rect" id="node3" href="parallel_8f90.html#ab40105b69cc0851ddeff89077fe800d6" title="world_size" alt="" coords="167,55,251,80"/>
<area shape="rect" id="node4" href="write__output___a_s_d_f_8f90.html#ad163088e89300fee06d928269ab128fb" title="Uses the time in the CMTSOLUTION file to calculate the number of seconds since the epoch..." alt="" coords="172,104,245,129"/>
<area shape="rect" id="node6" href="write__output___a_s_d_f_8f90.html#afe175d1a0ac733e1707890f843fbe8d4" title="Converts the CMT source file read by SPECFEM to a QuakeML file for the ASDF container. " alt="" coords="149,153,268,179"/>
<area shape="rect" id="node7" href="parallel_8f90.html#adfcaa8941968e6172d8f4343fb5f7c0c" title="all_gather_all_i" alt="" coords="153,203,264,228"/>
<area shape="rect" id="node8" href="parallel_8f90.html#a5291fc36ae9357c7ef23398093e33d1d" title="all_gather_all_ch" alt="" coords="148,252,270,277"/>
<area shape="rect" id="node9" href="parallel_8f90.html#aa0828560d927461714438d49f8df163c" title="all_gather_all_r" alt="" coords="152,301,265,327"/>
<area shape="rect" id="node10" href="write__output___a_s_d_f_8f90.html#a3db9b379d0f497a2635f1993285bbf8c" title="Reads an external file and stores it in filestring. " alt="" coords="172,351,245,376"/>
<area shape="rect" id="node11" href="write__output___a_s_d_f_8f90.html#a64cc0cce28e733d43be4ef7f623d682c" title="Converts the Station information to a StationXML string. " alt="" coords="135,400,282,425"/>
<area shape="rect" id="node12" href="parallel_8f90.html#a5c0b8ddb524981fa08f6346a2d42e7b9" title="synchronize_all" alt="" coords="152,449,265,475"/>
<area shape="rect" id="node13" href="parallel_8f90.html#a547b99a4c6ba64aed44a4ededf571e7d" title="send_cr" alt="" coords="174,499,243,524"/>
<area shape="rect" id="node14" href="parallel_8f90.html#ac7b0989198d6913363a5c0c46846c9cf" title="recv_cr" alt="" coords="176,548,241,573"/>
<area shape="rect" id="node5" href="write__output___a_s_d_f_8f90.html#a94a5afe64f662df5fc1c2f29c940315f" title="convert_systime_to\l_string" alt="" coords="330,97,466,136"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_icgraph.png" border="0" usemap="#write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_icgraph" alt=""/></div>
<map name="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_icgraph" id="write__output___a_s_d_f_8f90_a31b90cdfaa7f3c3d14095e27aa65f4bb_icgraph">
<area shape="rect" id="node2" href="write__seismograms_8f90.html#ae378084bba3fb6e0aaf421bdddc2d9f7" title="write_seismograms_to_file" alt="" coords="135,31,315,56"/>
<area shape="rect" id="node3" href="write__seismograms_8f90.html#a6ea5fef742d190f97b078fcfb1912d40" title="write_seismograms" alt="" coords="363,31,499,56"/>
<area shape="rect" id="node4" href="iterate__time_8_f90.html#a1c7956b87b2e085cd32a0c20fb6d29c9" title="iterate_time" alt="" coords="573,5,664,31"/>
<area shape="rect" id="node6" href="iterate__time__undoatt_8_f90.html#ac69f6bf2bfb2c82a2d50a79925c40be8" title="iterate_time_undoatt" alt="" coords="547,55,690,80"/>
<area shape="rect" id="node5" href="specfem3_d_8_f90.html#a0ec47524013a3bfc28246c397b9d5f1a" title="xspecfem3d" alt="" coords="738,31,831,56"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
